
<!DOCTYPE html>
<html>
<head>
<style>
body {

}
p {
font-size: 14px;
}</style>
<h3>hw/top_earlgrey/rtl/autogen/top_earlgrey.sv Cov: 99% </h3>
<pre style="margin:0; padding:0 ">// Copyright lowRISC contributors.</pre>
<pre style="margin:0; padding:0 ">// Licensed under the Apache License, Version 2.0, see LICENSE for details.</pre>
<pre style="margin:0; padding:0 ">// SPDX-License-Identifier: Apache-2.0</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">module top_earlgrey #(</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  parameter bit IbexPipeLine = 0</pre>
<pre style="margin:0; padding:0 ">) (</pre>
<pre style="margin:0; padding:0 ">  // Clock and Reset</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input               clk_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input               rst_ni,</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // JTAG interface</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input               jtag_tck_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input               jtag_tms_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input               jtag_trst_ni,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input               jtag_td_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output              jtag_td_o,</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // Multiplexed I/O</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input        [31:0] mio_in_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output logic [31:0] mio_out_o,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output logic [31:0] mio_oe_o,</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // Dedicated I/O</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input               dio_spi_device_sck_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input               dio_spi_device_csb_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input               dio_spi_device_mosi_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output logic        dio_spi_device_miso_o,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output logic        dio_spi_device_miso_en_o,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input               dio_uart_rx_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output logic        dio_uart_tx_o,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output logic        dio_uart_tx_en_o,</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input               scanmode_i  // 1 for Scan</pre>
<pre style="margin:0; padding:0 ">);</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // JTAG IDCODE for development versions of this code.</pre>
<pre style="margin:0; padding:0 ">  // Manufacturers of OpenTitan chips must replace this code with one of their</pre>
<pre style="margin:0; padding:0 ">  // own IDs.</pre>
<pre style="margin:0; padding:0 ">  // Field structure as defined in the IEEE 1149.1 (JTAG) specification,</pre>
<pre style="margin:0; padding:0 ">  // section 12.1.1.</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  localparam JTAG_IDCODE = {</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    4'h0,     // Version</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    16'h4F54, // Part Number: "OT"</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    11'h426,  // Manufacturer Identity: Google</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    1'b1      // (fixed)</pre>
<pre style="margin:0; padding:0 ">  };</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  import tlul_pkg::*;</pre>
<pre style="margin:0; padding:0 ">  import top_pkg::*;</pre>
<pre style="margin:0; padding:0 ">  import tl_main_pkg::*;</pre>
<pre style="margin:0; padding:0 ">  import flash_ctrl_pkg::*;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_corei_h_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_corei_h_d2h;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_cored_h_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_cored_h_d2h;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_dm_sba_h_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_dm_sba_h_d2h;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_debug_mem_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_debug_mem_d_d2h;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_uart_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_uart_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_gpio_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_gpio_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_spi_device_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_spi_device_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_flash_ctrl_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_flash_ctrl_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_rv_timer_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_rv_timer_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_aes_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_aes_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_hmac_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_hmac_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_rv_plic_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_rv_plic_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_pinmux_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_pinmux_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_alert_handler_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_alert_handler_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_nmi_gen_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_nmi_gen_d_d2h;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t tl_rom_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t tl_rom_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t tl_ram_main_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t tl_ram_main_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t tl_eflash_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t tl_eflash_d_d2h;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t tl_main_h_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t tl_main_h_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t tl_peri_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t tl_peri_d_d2h;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign tl_main_h_h2d = tl_peri_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign tl_peri_d_d2h = tl_main_h_d2h;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  //reset wires declaration</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic lc_rst_n;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic sys_rst_n;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic sys_fixed_rst_n;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic spi_device_rst_n;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  //clock wires declaration</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic main_clk;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic fixed_clk;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // Signals</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [31:0] m2p;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [31:0] p2m;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [31:0] p2m_en;</pre>
<pre style="margin:0; padding:0 ">  // uart</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_uart_rx_p2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_uart_tx_d2p;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_uart_tx_en_d2p;</pre>
<pre style="margin:0; padding:0 ">  // gpio</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [31:0] cio_gpio_gpio_p2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [31:0] cio_gpio_gpio_d2p;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [31:0] cio_gpio_gpio_en_d2p;</pre>
<pre style="margin:0; padding:0 ">  // spi_device</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_spi_device_sck_p2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_spi_device_csb_p2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_spi_device_mosi_p2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_spi_device_miso_d2p;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_spi_device_miso_en_d2p;</pre>
<pre style="margin:0; padding:0 ">  // flash_ctrl</pre>
<pre style="margin:0; padding:0 ">  // rv_timer</pre>
<pre style="margin:0; padding:0 ">  // aes</pre>
<pre style="margin:0; padding:0 ">  // hmac</pre>
<pre style="margin:0; padding:0 ">  // rv_plic</pre>
<pre style="margin:0; padding:0 ">  // pinmux</pre>
<pre style="margin:0; padding:0 ">  // alert_handler</pre>
<pre style="margin:0; padding:0 ">  // nmi_gen</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [62:0]  intr_vector;</pre>
<pre style="margin:0; padding:0 ">  // Interrupt source list</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_uart_tx_watermark;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_uart_rx_watermark;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_uart_tx_empty;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_uart_rx_overflow;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_uart_rx_frame_err;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_uart_rx_break_err;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_uart_rx_timeout;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_uart_rx_parity_err;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [31:0] intr_gpio_gpio;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_spi_device_rxf;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_spi_device_rxlvl;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_spi_device_txlvl;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_spi_device_rxerr;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_spi_device_rxoverflow;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_spi_device_txunderflow;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_flash_ctrl_prog_empty;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_flash_ctrl_prog_lvl;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_flash_ctrl_rd_full;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_flash_ctrl_rd_lvl;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_flash_ctrl_op_done;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_flash_ctrl_op_error;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_rv_timer_timer_expired_0_0;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_hmac_hmac_done;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_hmac_fifo_full;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_hmac_hmac_err;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_alert_handler_classa;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_alert_handler_classb;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_alert_handler_classc;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_alert_handler_classd;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_nmi_gen_esc0;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_nmi_gen_esc1;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_nmi_gen_esc2;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_nmi_gen_esc3;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  </pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [0:0] irq_plic;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [0:0] msip;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [5:0] irq_id[1];</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [5:0] unused_irq_id[1];</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // this avoids lint errors</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign unused_irq_id = irq_id;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // Alert list</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  prim_pkg::alert_tx_t [alert_pkg::NAlerts-1:0]  alert_tx;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  prim_pkg::alert_rx_t [alert_pkg::NAlerts-1:0]  alert_rx;</pre>
<pre style="margin:0; padding:0 ">  // Escalation outputs</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  prim_pkg::esc_tx_t [alert_pkg::N_ESC_SEV-1:0]  esc_tx;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  prim_pkg::esc_rx_t [alert_pkg::N_ESC_SEV-1:0]  esc_rx;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // clock assignments</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign main_clk = clk_i;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign fixed_clk = clk_i;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // Non-debug module reset == reset for everything except for the debug module</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic ndmreset_req;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // root resets</pre>
<pre style="margin:0; padding:0 ">  // TODO: lc_rst_n is not the true root reset.  It will be differentiated once the</pre>
<pre style="margin:0; padding:0 ">  //       the reset controller logic is present</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign lc_rst_n = rst_ni;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign sys_rst_n = (scanmode_i) ? lc_rst_n : ~ndmreset_req & lc_rst_n;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  //non-root reset assignments</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign sys_fixed_rst_n = sys_rst_n;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign spi_device_rst_n = sys_rst_n;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // debug request from rv_dm to core</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic debug_req;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // processor core</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  rv_core_ibex #(</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .PMPEnable           (0),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .PMPGranularity      (0),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .PMPNumRegions       (4),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .MHPMCounterNum      (8),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .MHPMCounterWidth    (40),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .RV32E               (0),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .RV32M               (1),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .DmHaltAddr          (ADDR_SPACE_DEBUG_MEM + dm::HaltAddress),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .DmExceptionAddr     (ADDR_SPACE_DEBUG_MEM + dm::ExceptionAddress),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .PipeLine            (IbexPipeLine)</pre>
<pre id="id228" style="background-color: #FFB6C1; margin:0; padding:0 ">  ) core (</pre>
<pre style="margin:0; padding:0 ">    // clock and reset</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_i                (main_clk),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_ni               (sys_rst_n),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .test_en_i            (1'b0),</pre>
<pre style="margin:0; padding:0 ">    // static pinning</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .hart_id_i            (32'b0),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .boot_addr_i          (ADDR_SPACE_ROM),</pre>
<pre style="margin:0; padding:0 ">    // TL-UL buses</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_i_o               (tl_corei_h_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_i_i               (tl_corei_h_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_d_o               (tl_cored_h_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_d_i               (tl_cored_h_d2h),</pre>
<pre style="margin:0; padding:0 ">    // interrupts</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .irq_software_i       (msip),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .irq_timer_i          (intr_rv_timer_timer_expired_0_0),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .irq_external_i       (irq_plic),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .irq_fast_i           (15'b0),// PLIC handles all peripheral interrupts</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .irq_nm_i             (1'b0),// TODO - add and connect alert responder</pre>
<pre style="margin:0; padding:0 ">    // debug interface</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .debug_req_i          (debug_req),</pre>
<pre style="margin:0; padding:0 ">    // CPU control signals</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .fetch_enable_i       (1'b1),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .core_sleep_o         ()</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // Debug Module (RISC-V Debug Spec 0.13)</pre>
<pre style="margin:0; padding:0 ">  //</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  rv_dm #(</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .NrHarts     (1),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .IdcodeValue (JTAG_IDCODE)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  ) u_dm_top (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_i         (main_clk),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_ni        (lc_rst_n),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .testmode_i    (1'b0),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .ndmreset_o    (ndmreset_req),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .dmactive_o    (),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .debug_req_o   (debug_req),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .unavailable_i (1'b0),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">    // bus device with debug memory (for execution-based debug)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_d_i        (tl_debug_mem_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_d_o        (tl_debug_mem_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">    // bus host (for system bus accesses, SBA)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_h_o        (tl_dm_sba_h_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_h_i        (tl_dm_sba_h_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">    //JTAG</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tck_i            (jtag_tck_i),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tms_i            (jtag_tms_i),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .trst_ni          (jtag_trst_ni),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .td_i             (jtag_td_i),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .td_o             (jtag_td_o),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tdo_oe_o         (       )</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // ROM device</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        rom_req;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [10:0] rom_addr;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [31:0] rom_rdata;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        rom_rvalid;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tlul_adapter_sram #(</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .SramAw(11),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .SramDw(32),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .Outstanding(1),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .ErrOnWrite(1)</pre>
<pre id="id297" style="background-color: #FFB6C1; margin:0; padding:0 ">  ) tl_adapter_rom (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_i   (main_clk),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_ni   (sys_rst_n),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_i     (tl_rom_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_o     (tl_rom_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .req_o    (rom_req),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .gnt_i    (1'b1), // Always grant as only one requester exists</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .we_o     (),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .addr_o   (rom_addr),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .wdata_o  (),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .wmask_o  (),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rdata_i  (rom_rdata),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rvalid_i (rom_rvalid),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rerror_i (2'b00)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  prim_rom #(</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .Width(32),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .Depth(2048)</pre>
<pre id="id318" style="background-color: #FFB6C1; margin:0; padding:0 ">  ) u_rom_rom (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_i   (main_clk),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_ni   (sys_rst_n),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .cs_i     (rom_req),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .addr_i   (rom_addr),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .dout_o   (rom_rdata),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .dvalid_o (rom_rvalid)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // sram device</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        ram_main_req;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        ram_main_we;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [13:0] ram_main_addr;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [31:0] ram_main_wdata;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [31:0] ram_main_wmask;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [31:0] ram_main_rdata;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        ram_main_rvalid;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tlul_adapter_sram #(</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .SramAw(14),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .SramDw(32),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .Outstanding(1)</pre>
<pre id="id340" style="background-color: #FFB6C1; margin:0; padding:0 ">  ) tl_adapter_ram_main (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_i   (main_clk),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_ni   (sys_rst_n),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_i     (tl_ram_main_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_o     (tl_ram_main_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .req_o    (ram_main_req),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .gnt_i    (1'b1), // Always grant as only one requester exists</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .we_o     (ram_main_we),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .addr_o   (ram_main_addr),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .wdata_o  (ram_main_wdata),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .wmask_o  (ram_main_wmask),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rdata_i  (ram_main_rdata),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rvalid_i (ram_main_rvalid),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rerror_i (2'b00)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  prim_ram_1p #(</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .Width(32),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .Depth(16384),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .DataBitsPerMask(8)</pre>
<pre id="id361" style="background-color: #FFB6C1; margin:0; padding:0 ">  ) u_ram1p_ram_main (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_i   (main_clk),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_ni   (sys_rst_n),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .req_i    (ram_main_req),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .write_i  (ram_main_we),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .addr_i   (ram_main_addr),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .wdata_i  (ram_main_wdata),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .wmask_i  (ram_main_wmask),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rvalid_o (ram_main_rvalid),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rdata_o  (ram_main_rdata)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // flash controller to eflash communication</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  flash_c2m_t flash_c2m;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  flash_m2c_t flash_m2c;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // host to flash communication</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic flash_host_req;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic flash_host_req_rdy;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic flash_host_req_done;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [FLASH_DW-1:0] flash_host_rdata;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [FLASH_AW-1:0] flash_host_addr;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tlul_adapter_sram #(</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .SramAw(FLASH_AW),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .SramDw(FLASH_DW),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .Outstanding(1),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .ByteAccess(0),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .ErrOnWrite(1)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  ) tl_adapter_eflash (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_i   (main_clk),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_ni   (lc_rst_n),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_i       (tl_eflash_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_o       (tl_eflash_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .req_o    (flash_host_req),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .gnt_i    (flash_host_req_rdy),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .we_o     (),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .addr_o   (flash_host_addr),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .wdata_o  (),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .wmask_o  (),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rdata_i  (flash_host_rdata),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rvalid_i (flash_host_req_done),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rerror_i (2'b00)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  flash_phy #(</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .NumBanks(FLASH_BANKS),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .PagesPerBank(FLASH_PAGES_PER_BANK),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .WordsPerPage(FLASH_WORDS_PER_PAGE),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .DataWidth(32)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  ) u_flash_eflash (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_i   (main_clk),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_ni   (lc_rst_n),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .host_req_i      (flash_host_req),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .host_addr_i     (flash_host_addr),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .host_req_rdy_o  (flash_host_req_rdy),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .host_req_done_o (flash_host_req_done),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .host_rdata_o    (flash_host_rdata),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .flash_ctrl_i    (flash_c2m),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .flash_ctrl_o    (flash_m2c)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  uart uart (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_i (tl_uart_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_o (tl_uart_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Input</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_rx_i    (cio_uart_rx_p2d),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Output</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_tx_o    (cio_uart_tx_d2p),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_tx_en_o (cio_uart_tx_en_d2p),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Interrupt</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_tx_watermark_o  (intr_uart_tx_watermark),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rx_watermark_o  (intr_uart_rx_watermark),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_tx_empty_o      (intr_uart_tx_empty),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rx_overflow_o   (intr_uart_rx_overflow),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rx_frame_err_o  (intr_uart_rx_frame_err),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rx_break_err_o  (intr_uart_rx_break_err),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rx_timeout_o    (intr_uart_rx_timeout),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rx_parity_err_o (intr_uart_rx_parity_err),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_i (fixed_clk),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_ni (sys_fixed_rst_n)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  gpio gpio (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_i (tl_gpio_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_o (tl_gpio_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Input</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_gpio_i    (cio_gpio_gpio_p2d),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Output</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_gpio_o    (cio_gpio_gpio_d2p),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_gpio_en_o (cio_gpio_gpio_en_d2p),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Interrupt</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_gpio_o (intr_gpio_gpio),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_i (fixed_clk),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_ni (sys_fixed_rst_n)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  spi_device spi_device (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_i (tl_spi_device_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_o (tl_spi_device_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Input</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_sck_i     (cio_spi_device_sck_p2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_csb_i     (cio_spi_device_csb_p2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_mosi_i    (cio_spi_device_mosi_p2d),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Output</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_miso_o    (cio_spi_device_miso_d2p),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_miso_en_o (cio_spi_device_miso_en_d2p),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Interrupt</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rxf_o         (intr_spi_device_rxf),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rxlvl_o       (intr_spi_device_rxlvl),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_txlvl_o       (intr_spi_device_txlvl),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rxerr_o       (intr_spi_device_rxerr),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rxoverflow_o  (intr_spi_device_rxoverflow),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_txunderflow_o (intr_spi_device_txunderflow),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .scanmode_i   (scanmode_i),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_i (fixed_clk),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_ni (spi_device_rst_n)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  flash_ctrl flash_ctrl (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_i (tl_flash_ctrl_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_o (tl_flash_ctrl_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Interrupt</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_prog_empty_o (intr_flash_ctrl_prog_empty),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_prog_lvl_o   (intr_flash_ctrl_prog_lvl),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rd_full_o    (intr_flash_ctrl_rd_full),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rd_lvl_o     (intr_flash_ctrl_rd_lvl),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_op_done_o    (intr_flash_ctrl_op_done),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_op_error_o   (intr_flash_ctrl_op_error),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .flash_o(flash_c2m),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .flash_i(flash_m2c),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_i (main_clk),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_ni (lc_rst_n)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  rv_timer rv_timer (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_i (tl_rv_timer_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_o (tl_rv_timer_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Interrupt</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_timer_expired_0_0_o (intr_rv_timer_timer_expired_0_0),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_i (fixed_clk),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_ni (sys_fixed_rst_n)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  aes aes (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_i (tl_aes_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_o (tl_aes_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_i (main_clk),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_ni (sys_rst_n)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  hmac hmac (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_i (tl_hmac_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_o (tl_hmac_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Interrupt</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_hmac_done_o (intr_hmac_hmac_done),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_fifo_full_o (intr_hmac_fifo_full),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_hmac_err_o  (intr_hmac_hmac_err),</pre>
<pre style="margin:0; padding:0 ">      </pre>
<pre style="margin:0; padding:0 ">      // [0]: msg_push_sha_disabled </pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .alert_tx_o  ( alert_tx[0:0] ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .alert_rx_i  ( alert_rx[0:0] ),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_i (main_clk),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_ni (sys_rst_n)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  rv_plic rv_plic (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_i (tl_rv_plic_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_o (tl_rv_plic_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_src_i (intr_vector),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .irq_o      (irq_plic),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .irq_id_o   (irq_id),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .msip_o     (msip),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_i (main_clk),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_ni (sys_rst_n)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  pinmux pinmux (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_i (tl_pinmux_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_o (tl_pinmux_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .periph_to_mio_i      (p2m    ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .periph_to_mio_oe_i   (p2m_en ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .mio_to_periph_o      (m2p    ),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .mio_out_o            (mio_out_o),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .mio_oe_o             (mio_oe_o ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .mio_in_i             (mio_in_i ),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_i (main_clk),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_ni (sys_rst_n)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  alert_handler alert_handler (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_i (tl_alert_handler_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_o (tl_alert_handler_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Interrupt</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_classa_o (intr_alert_handler_classa),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_classb_o (intr_alert_handler_classb),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_classc_o (intr_alert_handler_classc),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_classd_o (intr_alert_handler_classd),</pre>
<pre style="margin:0; padding:0 ">      // TODO: wire this to hardware debug circuit</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .crashdump_o (          ),</pre>
<pre style="margin:0; padding:0 ">      // TODO: wire this to TRNG</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .entropy_i   ( 1'b0     ),</pre>
<pre style="margin:0; padding:0 ">      // alert signals</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .alert_rx_o  ( alert_rx ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .alert_tx_i  ( alert_tx ),</pre>
<pre style="margin:0; padding:0 ">      // escalation outputs</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .esc_rx_i    ( esc_rx   ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .esc_tx_o    ( esc_tx   ),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_i (main_clk),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_ni (sys_rst_n)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  nmi_gen nmi_gen (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_i (tl_nmi_gen_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_o (tl_nmi_gen_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Interrupt</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_esc0_o (intr_nmi_gen_esc0),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_esc1_o (intr_nmi_gen_esc1),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_esc2_o (intr_nmi_gen_esc2),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_esc3_o (intr_nmi_gen_esc3),</pre>
<pre style="margin:0; padding:0 ">      // escalation signal inputs</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .esc_rx_o    ( esc_rx   ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .esc_tx_i    ( esc_tx   ),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_i (main_clk),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_ni (sys_rst_n)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // interrupt assignments</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign intr_vector = {</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_nmi_gen_esc3,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_nmi_gen_esc2,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_nmi_gen_esc1,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_nmi_gen_esc0,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_alert_handler_classd,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_alert_handler_classc,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_alert_handler_classb,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_alert_handler_classa,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_hmac_hmac_err,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_hmac_fifo_full,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_hmac_hmac_done,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_flash_ctrl_op_error,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_flash_ctrl_op_done,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_flash_ctrl_rd_lvl,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_flash_ctrl_rd_full,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_flash_ctrl_prog_lvl,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_flash_ctrl_prog_empty,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_spi_device_txunderflow,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_spi_device_rxoverflow,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_spi_device_rxerr,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_spi_device_txlvl,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_spi_device_rxlvl,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_spi_device_rxf,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_uart_rx_parity_err,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_uart_rx_timeout,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_uart_rx_break_err,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_uart_rx_frame_err,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_uart_rx_overflow,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_uart_tx_empty,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_uart_rx_watermark,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_uart_tx_watermark,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_gpio_gpio</pre>
<pre style="margin:0; padding:0 ">  };</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // TL-UL Crossbar</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  xbar_main u_xbar_main (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_main_i (main_clk),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_fixed_i (fixed_clk),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_main_ni (sys_rst_n),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_fixed_ni (sys_fixed_rst_n),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_corei_i         (tl_corei_h_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_corei_o         (tl_corei_h_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_cored_i         (tl_cored_h_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_cored_o         (tl_cored_h_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_dm_sba_i        (tl_dm_sba_h_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_dm_sba_o        (tl_dm_sba_h_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_rom_o           (tl_rom_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_rom_i           (tl_rom_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_debug_mem_o     (tl_debug_mem_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_debug_mem_i     (tl_debug_mem_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_ram_main_o      (tl_ram_main_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_ram_main_i      (tl_ram_main_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_eflash_o        (tl_eflash_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_eflash_i        (tl_eflash_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_peri_o          (tl_peri_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_peri_i          (tl_peri_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_flash_ctrl_o    (tl_flash_ctrl_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_flash_ctrl_i    (tl_flash_ctrl_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_hmac_o          (tl_hmac_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_hmac_i          (tl_hmac_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_aes_o           (tl_aes_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_aes_i           (tl_aes_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_rv_plic_o       (tl_rv_plic_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_rv_plic_i       (tl_rv_plic_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_pinmux_o        (tl_pinmux_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_pinmux_i        (tl_pinmux_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_alert_handler_o (tl_alert_handler_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_alert_handler_i (tl_alert_handler_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_nmi_gen_o       (tl_nmi_gen_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_nmi_gen_i       (tl_nmi_gen_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .scanmode_i</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  xbar_peri u_xbar_peri (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_peri_i (fixed_clk),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_peri_ni (sys_fixed_rst_n),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_main_i       (tl_main_h_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_main_o       (tl_main_h_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_uart_o       (tl_uart_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_uart_i       (tl_uart_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_gpio_o       (tl_gpio_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_gpio_i       (tl_gpio_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_spi_device_o (tl_spi_device_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_spi_device_i (tl_spi_device_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_rv_timer_o   (tl_rv_timer_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_rv_timer_i   (tl_rv_timer_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .scanmode_i</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // Pinmux connections</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign p2m = {</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    cio_gpio_gpio_d2p</pre>
<pre style="margin:0; padding:0 ">  };</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign p2m_en = {</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    cio_gpio_gpio_en_d2p</pre>
<pre style="margin:0; padding:0 ">  };</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign {</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    cio_gpio_gpio_p2d</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  } = m2p;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign cio_spi_device_sck_p2d   = dio_spi_device_sck_i;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign cio_spi_device_csb_p2d   = dio_spi_device_csb_i;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign cio_spi_device_mosi_p2d  = dio_spi_device_mosi_i;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign dio_spi_device_miso_o    = cio_spi_device_miso_d2p;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign dio_spi_device_miso_en_o = cio_spi_device_miso_en_d2p;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign cio_uart_rx_p2d          = dio_uart_rx_i;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign dio_uart_tx_o            = cio_uart_tx_d2p;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign dio_uart_tx_en_o         = cio_uart_tx_en_d2p;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // make sure scanmode_i is never X (including during reset)</pre>
<pre style="margin:0; padding:0 ">  `ASSERT_KNOWN(scanmodeKnown, scanmode_i, clk_i, 0)</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">endmodule</pre>
<pre style="margin:0; padding:0 "></pre>
</body>
</html>
