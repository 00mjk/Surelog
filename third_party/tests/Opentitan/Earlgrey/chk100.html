
<!DOCTYPE html>
<html>
<head>
<style>
body {

}
p {
font-size: 14px;
}</style>
<h3>hw/ip/prim/rtl/prim_lfsr.sv Coverage: 96%</h3>
<pre style="margin:0; padding:0 ">// Copyright lowRISC contributors.</pre>
<pre style="margin:0; padding:0 ">// Licensed under the Apache License, Version 2.0, see LICENSE for details.</pre>
<pre style="margin:0; padding:0 ">// SPDX-License-Identifier: Apache-2.0</pre>
<pre style="margin:0; padding:0 ">//</pre>
<pre style="margin:0; padding:0 ">// This module implements different LFSR types:</pre>
<pre style="margin:0; padding:0 ">//</pre>
<pre style="margin:0; padding:0 ">// 0) Galois XOR type LFSR ([1], internal XOR gates, very fast).</pre>
<pre style="margin:0; padding:0 ">//    Parameterizable width from 4 to 64 bits.</pre>
<pre style="margin:0; padding:0 ">//    Coefficients obtained from [2].</pre>
<pre style="margin:0; padding:0 ">//</pre>
<pre style="margin:0; padding:0 ">// 1) Fibonacci XNOR type LFSR, parameterizable from 3 to 168 bits.</pre>
<pre style="margin:0; padding:0 ">//    Coefficients obtained from [3].</pre>
<pre style="margin:0; padding:0 ">//</pre>
<pre style="margin:0; padding:0 ">// All flavors have an additional entropy input and lockup protection, which</pre>
<pre style="margin:0; padding:0 ">// reseeds the state once it has accidentally fallen into the all-zero (XOR) or</pre>
<pre style="margin:0; padding:0 ">// all-one (XNOR) state. Further, an external seed can be loaded into the LFSR</pre>
<pre style="margin:0; padding:0 ">// state at runtime. If that seed is all-zero (XOR case) or all-one (XNOR case),</pre>
<pre style="margin:0; padding:0 ">// the state will be reseeded in the next cycle using the lockup protection mechanism.</pre>
<pre style="margin:0; padding:0 ">// Note that the external seed input takes precedence over internal state updates.</pre>
<pre style="margin:0; padding:0 ">//</pre>
<pre style="margin:0; padding:0 ">// All polynomials up to 34 bit in length have been verified in simulation.</pre>
<pre style="margin:0; padding:0 ">//</pre>
<pre style="margin:0; padding:0 ">// Refs: [1] https://en.wikipedia.org/wiki/Linear-feedback_shift_register</pre>
<pre style="margin:0; padding:0 ">//       [2] https://users.ece.cmu.edu/~koopman/lfsr/</pre>
<pre style="margin:0; padding:0 ">//       [3] https://www.xilinx.com/support/documentation/application_notes/xapp052.pdf</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">module prim_lfsr #(</pre>
<pre style="margin:0; padding:0 ">  // Lfsr Type, can be FIB_XNOR or GAL_XOR</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  parameter                    LfsrType     = "GAL_XOR",</pre>
<pre style="margin:0; padding:0 ">  // Lfsr width</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  parameter int unsigned       LfsrDw       = 32,</pre>
<pre style="margin:0; padding:0 ">  // Width of the entropy input to be XOR'd into state (lfsr_q[EntropyDw-1:0])</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  parameter int unsigned       EntropyDw    =  8,</pre>
<pre style="margin:0; padding:0 ">  // Width of output tap (from lfsr_q[StateOutDw-1:0])</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  parameter int unsigned       StateOutDw   =  8,</pre>
<pre style="margin:0; padding:0 ">  // Lfsr reset state, must be nonzero!</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  parameter logic [LfsrDw-1:0] DefaultSeed  = LfsrDw'(1),</pre>
<pre style="margin:0; padding:0 ">  // Custom polynomial coeffs</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  parameter logic [LfsrDw-1:0] CustomCoeffs = '0,</pre>
<pre style="margin:0; padding:0 ">  // Enable this for DV, disable this for long LFSRs in FPV</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  parameter bit                MaxLenSVA    = 1'b1,</pre>
<pre style="margin:0; padding:0 ">  // Can be disabled in cases where seed and entropy</pre>
<pre style="margin:0; padding:0 ">  // inputs are unused in order to not distort coverage</pre>
<pre style="margin:0; padding:0 ">  // (the SVA will be unreachable in such cases)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  parameter bit                LockupSVA    = 1'b1,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  parameter bit                ExtSeedSVA   = 1'b1</pre>
<pre style="margin:0; padding:0 ">) (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input                         clk_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input                         rst_ni,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input                         seed_en_i, // load external seed into the state (takes precedence)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input        [LfsrDw-1:0]     seed_i,    // external seed input</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input                         lfsr_en_i, // enables the LFSR</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input        [EntropyDw-1:0]  entropy_i, // additional entropy to be XOR'ed into the state</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output logic [StateOutDw-1:0] state_o    // (partial) LFSR state output</pre>
<pre style="margin:0; padding:0 ">);</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // automatically generated with get-lfsr-coeffs.py script</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  localparam int unsigned GAL_XOR_LUT_OFF = 4;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  localparam logic [63:0] GAL_XOR_COEFFS [61] =</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    '{ 64'h9,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h12,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h21,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h41,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h8E,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h108,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h204,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h402,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h829,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h100D,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h2015,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h4001,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h8016,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h10004,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h20013,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h40013,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h80004,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h100002,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h200001,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h400010,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h80000D,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h1000004,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h2000023,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h4000013,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h8000004,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h10000002,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h20000029,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h40000004,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h80000057,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h100000029,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h200000073,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h400000002,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h80000003B,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h100000001F,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h2000000031,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h4000000008,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h800000001C,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h10000000004,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h2000000001F,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h4000000002C,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h80000000032,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h10000000000D,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h200000000097,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h400000000010,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h80000000005B,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h1000000000038,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h200000000000E,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h4000000000025,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h8000000000004,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h10000000000023,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h2000000000003E,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h40000000000023,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h8000000000004A,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h100000000000016,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h200000000000031,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h40000000000003D,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h800000000000001,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h1000000000000013,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h2000000000000034,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h4000000000000001,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       64'h800000000000000D };</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // automatically generated with get-lfsr-coeffs.py script</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  localparam int unsigned FIB_XNOR_LUT_OFF = 3;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  localparam logic [167:0] FIB_XNOR_COEFFS [166] =</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    '{ 168'h6,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'hC,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h14,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h30,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h60,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'hB8,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h110,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h240,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h500,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h829,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h100D,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h2015,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h6000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'hD008,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h12000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h20400,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h40023,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h90000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h140000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h300000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h420000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'hE10000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h1200000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h2000023,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h4000013,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h9000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h14000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h20000029,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h48000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h80200003,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h100080000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h204000003,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h500000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h801000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h100000001F,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h2000000031,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h4400000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'hA000140000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h12000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h300000C0000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h63000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'hC0000030000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h1B0000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h300003000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h420000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'hC00000180000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h1008000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h3000000C00000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h6000C00000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h9000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h18003000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h30000000030000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h40000040000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'hC0000600000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h102000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h200004000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h600003000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'hC00000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h1800300000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h3000000000000030,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h6000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'hD800000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h10000400000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h30180000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h60300000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h80400000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h140000028000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h300060000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h410000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h820000000001040000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h1000000800000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h3000600000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h6018000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'hC000000018000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h18000000600000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h30000600000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h40200000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'hC0000000060000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h110000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h240000000480000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h600000000003000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h800400000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h1800000300000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h3003000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h4002000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'hC000000000000000018000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h10000000004000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h30000C00000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h600000000000000000000C0,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'hC00C0000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h140000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h200001000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h400800000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'hA00000000001400000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h1040000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h2004000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h5000000000028000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h8000000004000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h18600000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h30000000000000000C00000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h40200000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'hC0300000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h100010000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h200040000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h5000000000000000A0000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h800000010000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h1860000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h3003000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h4010000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'hA000000000140000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h10080000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h30000000000000000000180000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h60018000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'hC0000000000000000300000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h140005000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h200000001000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h404000000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h810000000000000000000000000102,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h1000040000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h3000000000000006000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h5000000000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h8000000004000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h18000000000000000000000000030000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h30000000030000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h60000000000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'hA0000014000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h108000000000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h240000000000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h600000000000C00000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h800000040000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h1800000000000300000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h2000000000000010000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h4008000000000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'hC000000000000000000000000000000600,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h10000080000000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h30600000000000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h4A400000000000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h80000004000000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h180000003000000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h200001000000000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h600006000000000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'hC00000000000000006000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h1000000000000100000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h3000000000000006000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h6000000003000000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h8000001000000000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h1800000000000000000000000000C000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h20000000000001000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h48000000000000000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'hC0000000000000006000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h180000000000000000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h280000000000000000000000000000005000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h60000000C000000000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'hC00000000000000000000000000018000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h1800000600000000000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h3000000C00000000000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h4000000080000000000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'hC000300000000000000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h10000400000000000000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h30000000000000000000006000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h600000000000000C0000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'hC0060000000000000000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h180000006000000000000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h3000000000C0000000000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'h410000000000000000000000000000000000000000,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">       168'hA00140000000000000000000000000000000000000 };</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic lockup;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [LfsrDw-1:0] lfsr_d, lfsr_q;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [LfsrDw-1:0] next_lfsr_state, coeffs;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  ////////////////</pre>
<pre style="margin:0; padding:0 ">  // Galois XOR //</pre>
<pre style="margin:0; padding:0 ">  ////////////////</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  if (64'(LfsrType) == 64'("GAL_XOR")) begin : gen_gal_xor</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">    // if custom polynomial is provided</pre>
<pre id="id303" style="background-color: #FFB6C1; margin:0; padding:0 ">    if (CustomCoeffs > 0) begin : gen_custom</pre>
<pre id="id304" style="background-color: #FFB6C1; margin:0; padding:0 ">      assign coeffs = CustomCoeffs[LfsrDw-1:0];</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    end else begin : gen_lut</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      assign coeffs = GAL_XOR_COEFFS[LfsrDw-GAL_XOR_LUT_OFF][LfsrDw-1:0];</pre>
<pre style="margin:0; padding:0 ">      // check that the most significant bit of polynomial is 1</pre>
<pre style="margin:0; padding:0 ">      `ASSERT_INIT(MinLfsrWidth_A, LfsrDw >= $low(GAL_XOR_COEFFS)+GAL_XOR_LUT_OFF)</pre>
<pre style="margin:0; padding:0 ">      `ASSERT_INIT(MaxLfsrWidth_A, LfsrDw <= $high(GAL_XOR_COEFFS)+GAL_XOR_LUT_OFF)</pre>
<pre style="margin:0; padding:0 ">    end</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">    // calculate next state using internal XOR feedback and entropy input</pre>
<pre style="margin:0; padding:0 ">    assign next_lfsr_state = LfsrDw'(entropy_i) ^ ({LfsrDw{lfsr_q[0]}} & coeffs) ^ (lfsr_q >> 1);</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">    // lockup condition is all-zero</pre>
<pre style="margin:0; padding:0 ">    assign lockup = ~(|lfsr_q);</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">    // check that seed is not all-zero</pre>
<pre style="margin:0; padding:0 ">    `ASSERT_INIT(DefaultSeedNzCheck_A, |DefaultSeed)</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  ////////////////////</pre>
<pre style="margin:0; padding:0 ">  // Fibonacci XNOR //</pre>
<pre style="margin:0; padding:0 ">  ////////////////////</pre>
<pre style="margin:0; padding:0 ">  end else if (64'(LfsrType) == "FIB_XNOR") begin : gen_fib_xnor</pre>
<pre id="id326" style="background-color: #FFB6C1; margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">    // if custom polynomial is provided</pre>
<pre style="margin:0; padding:0 ">    if (CustomCoeffs > 0) begin : gen_custom</pre>
<pre id="id329" style="background-color: #FFB6C1; margin:0; padding:0 ">      assign coeffs = CustomCoeffs[LfsrDw-1:0];</pre>
<pre id="id330" style="background-color: #FFB6C1; margin:0; padding:0 ">    end else begin : gen_lut</pre>
<pre id="id331" style="background-color: #FFB6C1; margin:0; padding:0 ">      assign coeffs = FIB_XNOR_COEFFS[LfsrDw-FIB_XNOR_LUT_OFF][LfsrDw-1:0];</pre>
<pre id="id332" style="background-color: #FFB6C1; margin:0; padding:0 ">      // check that the most significant bit of polynomial is 1</pre>
<pre style="margin:0; padding:0 ">      `ASSERT_INIT(MinLfsrWidth_A, LfsrDw >= $low(FIB_XNOR_COEFFS)+FIB_XNOR_LUT_OFF)</pre>
<pre style="margin:0; padding:0 ">      `ASSERT_INIT(MaxLfsrWidth_A, LfsrDw <= $high(FIB_XNOR_COEFFS)+FIB_XNOR_LUT_OFF)</pre>
<pre style="margin:0; padding:0 ">    end</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">    // calculate next state using external XNOR feedback and entropy input</pre>
<pre style="margin:0; padding:0 ">    assign next_lfsr_state = LfsrDw'(entropy_i) ^ {lfsr_q[LfsrDw-2:0], ~(^(lfsr_q & coeffs))};</pre>
<pre id="id339" style="background-color: #FFB6C1; margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">    // lockup condition is all-ones</pre>
<pre style="margin:0; padding:0 ">    assign lockup = &lfsr_q;</pre>
<pre id="id342" style="background-color: #FFB6C1; margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">    // check that seed is not all-ones</pre>
<pre style="margin:0; padding:0 ">    `ASSERT_INIT(DefaultSeedNzCheck_A, !(&DefaultSeed))</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  /////////////</pre>
<pre style="margin:0; padding:0 ">  // Unknown //</pre>
<pre style="margin:0; padding:0 ">  /////////////</pre>
<pre style="margin:0; padding:0 ">  end else begin : gen_unknown_type</pre>
<pre id="id351" style="background-color: #FFB6C1; margin:0; padding:0 ">    `ASSERT_INIT(UnknownLfsrType_A, 0)</pre>
<pre style="margin:0; padding:0 ">  end</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  //////////////////</pre>
<pre style="margin:0; padding:0 ">  // Shared logic //</pre>
<pre style="margin:0; padding:0 ">  //////////////////</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  assign lfsr_d = (seed_en_i)           ? seed_i          :</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">                  (lfsr_en_i && lockup) ? DefaultSeed     :</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">                  (lfsr_en_i)           ? next_lfsr_state :</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">                                          lfsr_q;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  assign state_o  = lfsr_q[StateOutDw-1:0];</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  always_ff @(posedge clk_i or negedge rst_ni) begin : p_reg</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    if (!rst_ni) begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      lfsr_q <= DefaultSeed;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    end else begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      lfsr_q <= lfsr_d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    end</pre>
<pre style="margin:0; padding:0 ">  end</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  ///////////////////////</pre>
<pre style="margin:0; padding:0 ">  // shared assertions //</pre>
<pre style="margin:0; padding:0 ">  ///////////////////////</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  `ASSERT_KNOWN(DataKnownO_A, state_o, clk_i, !rst_ni)</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">// the code below is not meant to be synthesized,</pre>
<pre style="margin:0; padding:0 ">// but it is intended to be used in simulation and FPV</pre>
<pre style="margin:0; padding:0 ">`ifndef SYNTHESIS</pre>
<pre style="margin:0; padding:0 ">  function automatic logic[LfsrDw-1:0] compute_next_state(logic[LfsrDw-1:0]    lfsrcoeffs,</pre>
<pre style="margin:0; padding:0 ">                                                          logic[EntropyDw-1:0] entropy,</pre>
<pre style="margin:0; padding:0 ">                                                          logic[LfsrDw-1:0]    state);</pre>
<pre style="margin:0; padding:0 ">    logic state0;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">    // Galois XOR</pre>
<pre style="margin:0; padding:0 ">    if (64'(LfsrType) == 64'("GAL_XOR")) begin</pre>
<pre style="margin:0; padding:0 ">      if (state == 0) begin</pre>
<pre style="margin:0; padding:0 ">        state = DefaultSeed;</pre>
<pre style="margin:0; padding:0 ">      end else begin</pre>
<pre style="margin:0; padding:0 ">        state0 = state[0];</pre>
<pre style="margin:0; padding:0 ">        state = state >> 1;</pre>
<pre style="margin:0; padding:0 ">        if (state0) state ^= lfsrcoeffs;</pre>
<pre style="margin:0; padding:0 ">        state ^= LfsrDw'(entropy);</pre>
<pre style="margin:0; padding:0 ">      end</pre>
<pre style="margin:0; padding:0 ">    // Fibonacci XNOR</pre>
<pre style="margin:0; padding:0 ">    end else if (64'(LfsrType) == "FIB_XNOR") begin</pre>
<pre style="margin:0; padding:0 ">      if (&state) begin</pre>
<pre style="margin:0; padding:0 ">        state = DefaultSeed;</pre>
<pre style="margin:0; padding:0 ">      end else begin</pre>
<pre style="margin:0; padding:0 ">        state0 = ~(^(state & lfsrcoeffs));</pre>
<pre style="margin:0; padding:0 ">        state = state << 1;</pre>
<pre style="margin:0; padding:0 ">        state[0] = state0;</pre>
<pre style="margin:0; padding:0 ">        state ^= LfsrDw'(entropy);</pre>
<pre style="margin:0; padding:0 ">      end</pre>
<pre style="margin:0; padding:0 ">    end else begin</pre>
<pre style="margin:0; padding:0 ">      $error("unknown lfsr type");</pre>
<pre style="margin:0; padding:0 ">    end</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">    return state;</pre>
<pre style="margin:0; padding:0 ">  endfunction : compute_next_state</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // check whether next state is computed correctly</pre>
<pre style="margin:0; padding:0 ">  `ASSERT(NextStateCheck_A, lfsr_en_i && !seed_en_i |=> lfsr_q ==</pre>
<pre style="margin:0; padding:0 ">    compute_next_state(coeffs, $past(entropy_i,1), $past(lfsr_q,1)),</pre>
<pre style="margin:0; padding:0 ">    clk_i, !rst_ni )</pre>
<pre style="margin:0; padding:0 ">`endif</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  `ASSERT_INIT(InputWidth_A, LfsrDw >= EntropyDw)</pre>
<pre style="margin:0; padding:0 ">  `ASSERT_INIT(OutputWidth_A, LfsrDw >= StateOutDw)</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // MSB must be one in any case</pre>
<pre style="margin:0; padding:0 ">  `ASSERT(CoeffCheck_A, coeffs[LfsrDw-1], clk_i, !rst_ni)</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // output check</pre>
<pre style="margin:0; padding:0 ">  `ASSERT_KNOWN(OutputKnown_A, state_o, clk_i, !rst_ni)</pre>
<pre style="margin:0; padding:0 ">  `ASSERT(OutputCheck_A, state_o == StateOutDw'(lfsr_q), clk_i, !rst_ni)</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // if no external input changes the lfsr state, a lockup must not occur (by design)</pre>
<pre style="margin:0; padding:0 ">  //`ASSERT(NoLockups_A, (!entropy_i) && (!seed_en_i) |=> !lockup, clk_i, !rst_ni)</pre>
<pre style="margin:0; padding:0 ">  `ASSERT(NoLockups_A, lfsr_en_i && !entropy_i && !seed_en_i |=> !lockup, clk_i, !rst_ni)</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // this can be disabled if unused in order to not distort coverage</pre>
<pre style="margin:0; padding:0 ">  if (ExtSeedSVA) begin : gen_ext_seed_sva</pre>
<pre id="id438" style="background-color: #FFB6C1; margin:0; padding:0 ">    // check that external seed is correctly loaded into the state</pre>
<pre style="margin:0; padding:0 ">    `ASSERT(ExtDefaultSeedInputCheck_A, seed_en_i |=> lfsr_q == $past(seed_i),</pre>
<pre style="margin:0; padding:0 ">        clk_i, !rst_ni)</pre>
<pre style="margin:0; padding:0 ">  end</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // if the external seed mechanism is not used,</pre>
<pre style="margin:0; padding:0 ">  // there is theoretically no way we end up in a lockup condition</pre>
<pre style="margin:0; padding:0 ">  // in order to not distort coverage, this SVA can be disabled in such cases</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  if (LockupSVA) begin : gen_lockup_mechanism_sva</pre>
<pre style="margin:0; padding:0 ">    // check that a stuck LFSR is correctly reseeded</pre>
<pre style="margin:0; padding:0 ">    `ASSERT(LfsrLockupCheck_A, lfsr_en_i && lockup && !seed_en_i |=> !lockup,</pre>
<pre style="margin:0; padding:0 ">        clk_i, !rst_ni)</pre>
<pre style="margin:0; padding:0 ">  end</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  if (MaxLenSVA) begin : gen_max_len_sva</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">`ifndef SYNTHESIS</pre>
<pre style="margin:0; padding:0 ">    // the code below is a workaround to enable long sequences to be checked.</pre>
<pre style="margin:0; padding:0 ">    // some simulators do not support SVA sequences longer than 2**32-1.</pre>
<pre style="margin:0; padding:0 ">    logic [LfsrDw-1:0] cnt_d, cnt_q;</pre>
<pre style="margin:0; padding:0 ">    logic perturbed_d, perturbed_q;</pre>
<pre style="margin:0; padding:0 ">    logic [LfsrDw-1:0] cmp_val;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">    assign cmp_val = {{(LfsrDw-1){1'b1}}, 1'b0}; // 2**LfsrDw-2</pre>
<pre style="margin:0; padding:0 ">    assign cnt_d = (lfsr_en_i && lockup)             ? '0           :</pre>
<pre style="margin:0; padding:0 ">                   (lfsr_en_i && (cnt_q == cmp_val)) ? '0           :</pre>
<pre style="margin:0; padding:0 ">                   (lfsr_en_i)                       ? cnt_q + 1'b1 :</pre>
<pre style="margin:0; padding:0 ">                                                       cnt_q;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">    assign perturbed_d = perturbed_q | (|entropy_i) | seed_en_i;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">    always_ff @(posedge clk_i or negedge rst_ni) begin : p_max_len</pre>
<pre style="margin:0; padding:0 ">      if (!rst_ni) begin</pre>
<pre style="margin:0; padding:0 ">        cnt_q       <= '0;</pre>
<pre style="margin:0; padding:0 ">        perturbed_q <= 1'b0;</pre>
<pre style="margin:0; padding:0 ">      end else begin</pre>
<pre style="margin:0; padding:0 ">        cnt_q       <= cnt_d;</pre>
<pre style="margin:0; padding:0 ">        perturbed_q <= perturbed_d;</pre>
<pre style="margin:0; padding:0 ">      end</pre>
<pre style="margin:0; padding:0 ">    end</pre>
<pre style="margin:0; padding:0 ">`endif</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">    `ASSERT(MaximalLengthCheck0_A, cnt_q == 0 |-> lfsr_q == DefaultSeed,</pre>
<pre style="margin:0; padding:0 ">        clk_i, !rst_ni || perturbed_q)</pre>
<pre style="margin:0; padding:0 ">    `ASSERT(MaximalLengthCheck1_A, cnt_q != 0 |-> lfsr_q != DefaultSeed,</pre>
<pre style="margin:0; padding:0 ">        clk_i, !rst_ni || perturbed_q)</pre>
<pre style="margin:0; padding:0 ">  end</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">endmodule</pre>
<pre style="margin:0; padding:0 "></pre>
</body>
</html>
