
<!DOCTYPE html>
<html>
<head>
<style>
body {

}
p {
font-size: 14px;
}</style>
<h3>../src/lowrisc_ip_uart_0.1/rtl/uart_core.sv Cov: 99% </h3>
<pre style="margin:0; padding:0 ">// Copyright lowRISC contributors.</pre>
<pre style="margin:0; padding:0 ">// Licensed under the Apache License, Version 2.0, see LICENSE for details.</pre>
<pre style="margin:0; padding:0 ">// SPDX-License-Identifier: Apache-2.0</pre>
<pre style="margin:0; padding:0 ">//</pre>
<pre style="margin:0; padding:0 ">// Description: UART core module</pre>
<pre style="margin:0; padding:0 ">//</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">module uart_core (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input                  clk_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input                  rst_ni,</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input  uart_reg_pkg::uart_reg2hw_t reg2hw,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output uart_reg_pkg::uart_hw2reg_t hw2reg,</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input                  rx,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output logic           tx,</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output logic           intr_tx_watermark_o,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output logic           intr_rx_watermark_o,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output logic           intr_tx_empty_o,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output logic           intr_rx_overflow_o,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output logic           intr_rx_frame_err_o,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output logic           intr_rx_break_err_o,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output logic           intr_rx_timeout_o,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output logic           intr_rx_parity_err_o</pre>
<pre style="margin:0; padding:0 ">);</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  import uart_reg_pkg::*;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic   [15:0]  rx_val_q;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic   [7:0]   uart_rdata;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic           tick_baud_x16, rx_tick_baud;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic   [5:0]   tx_fifo_depth, rx_fifo_depth;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic   [5:0]   rx_fifo_depth_prev_q;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic   [23:0]  rx_timeout_count_d, rx_timeout_count_q, uart_rxto_val;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic           rx_fifo_depth_changed, uart_rxto_en;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic           tx_enable, rx_enable;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic           sys_loopback, line_loopback, rxnf_enable;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic           uart_fifo_rxrst, uart_fifo_txrst;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic   [2:0]   uart_fifo_rxilvl;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic   [1:0]   uart_fifo_txilvl;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic           ovrd_tx_en, ovrd_tx_val;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic   [7:0]   tx_fifo_data;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic           tx_fifo_rready, tx_fifo_rvalid;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic           tx_fifo_wready, tx_uart_idle;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic           tx_out;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic           tx_out_q;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic   [7:0]   rx_fifo_data;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic           rx_valid, rx_fifo_wvalid, rx_fifo_rvalid;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic           rx_fifo_wready, rx_uart_idle;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic           rx_sync;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic           rx_in;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic           break_err;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic   [4:0]   allzero_cnt_d, allzero_cnt_q;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic           allzero_err, not_allzero_char;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic           event_tx_watermark, event_rx_watermark, event_tx_empty, event_rx_overflow;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic           event_rx_frame_err, event_rx_break_err, event_rx_timeout, event_rx_parity_err;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic           tx_watermark_d, tx_watermark_prev_q;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic           rx_watermark_d, rx_watermark_prev_q;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic           tx_uart_idle_q;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign tx_enable        = reg2hw.ctrl.tx.q;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign rx_enable        = reg2hw.ctrl.rx.q;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign rxnf_enable      = reg2hw.ctrl.nf.q;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign sys_loopback     = reg2hw.ctrl.slpbk.q;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign line_loopback    = reg2hw.ctrl.llpbk.q;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign uart_fifo_rxrst  = reg2hw.fifo_ctrl.rxrst.q & reg2hw.fifo_ctrl.rxrst.qe;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign uart_fifo_txrst  = reg2hw.fifo_ctrl.txrst.q & reg2hw.fifo_ctrl.txrst.qe;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign uart_fifo_rxilvl = reg2hw.fifo_ctrl.rxilvl.q;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign uart_fifo_txilvl = reg2hw.fifo_ctrl.txilvl.q;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign ovrd_tx_en       = reg2hw.ovrd.txen.q;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign ovrd_tx_val      = reg2hw.ovrd.txval.q;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  typedef enum logic {</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    BRK_CHK,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    BRK_WAIT</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  } break_st_e ;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  break_st_e break_st_q;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign not_allzero_char = rx_valid & (~event_rx_frame_err | (rx_fifo_data != 8'h0));</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign allzero_err = event_rx_frame_err & (rx_fifo_data == 8'h0);</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign allzero_cnt_d = (break_st_q == BRK_WAIT || not_allzero_char) ? 5'h0 :</pre>
<pre style="margin:0; padding:0 ">                          //allzero_cnt_q[4] never be 1b without break_st_q as BRK_WAIT</pre>
<pre style="margin:0; padding:0 ">                          //allzero_cnt_q[4] ? allzero_cnt_q :</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">                          allzero_err ? allzero_cnt_q + 5'd1 :</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">                          allzero_cnt_q;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  always_ff @(posedge clk_i or negedge rst_ni) begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    if (!rst_ni)        allzero_cnt_q <= '0;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    else if (rx_enable) allzero_cnt_q <= allzero_cnt_d;</pre>
<pre style="margin:0; padding:0 ">  end</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // break_err edges in same cycle as event_rx_frame_err edges ; that way the</pre>
<pre style="margin:0; padding:0 ">  // reset-on-read works the same way for break and frame error interrupts.</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  always_comb begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    unique case (reg2hw.ctrl.rxblvl.q)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      2'h0:    break_err = allzero_cnt_d >= 5'd2;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      2'h1:    break_err = allzero_cnt_d >= 5'd4;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      2'h2:    break_err = allzero_cnt_d >= 5'd8;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      default: break_err = allzero_cnt_d >= 5'd16;</pre>
<pre style="margin:0; padding:0 ">    endcase</pre>
<pre style="margin:0; padding:0 ">  end</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  always_ff @(posedge clk_i or negedge rst_ni) begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    if (!rst_ni) break_st_q <= BRK_CHK;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    else begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      unique case (break_st_q)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">        BRK_CHK: begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">          if (event_rx_break_err) break_st_q <= BRK_WAIT;</pre>
<pre style="margin:0; padding:0 ">        end</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">        BRK_WAIT: begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">          if (rx_in) break_st_q <= BRK_CHK;</pre>
<pre style="margin:0; padding:0 ">        end</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">        default: begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">          break_st_q <= BRK_CHK;</pre>
<pre style="margin:0; padding:0 ">        end</pre>
<pre style="margin:0; padding:0 ">      endcase</pre>
<pre style="margin:0; padding:0 ">    end</pre>
<pre style="margin:0; padding:0 ">  end</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign hw2reg.val.d  = rx_val_q;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign hw2reg.rdata.d = uart_rdata;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign hw2reg.status.rxempty.d     = ~rx_fifo_rvalid;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign hw2reg.status.rxidle.d      = rx_uart_idle;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign hw2reg.status.txidle.d      = tx_uart_idle & ~tx_fifo_rvalid;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign hw2reg.status.txempty.d     = ~tx_fifo_rvalid;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign hw2reg.status.rxfull.d      = ~rx_fifo_wready;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign hw2reg.status.txfull.d      = ~tx_fifo_wready;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign hw2reg.fifo_status.txlvl.d  = tx_fifo_depth;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign hw2reg.fifo_status.rxlvl.d  = rx_fifo_depth;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // resets are self-clearing, so need to update FIFO_CTRL</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign hw2reg.fifo_ctrl.rxilvl.de = 1'b0;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign hw2reg.fifo_ctrl.rxilvl.d  = 3'h0;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign hw2reg.fifo_ctrl.txilvl.de = 1'b0;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign hw2reg.fifo_ctrl.txilvl.d  = 2'h0;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  //              NCO 16x Baud Generator</pre>
<pre style="margin:0; padding:0 ">  // output clock rate is:</pre>
<pre style="margin:0; padding:0 ">  //      Fin * (NCO/2**16)</pre>
<pre style="margin:0; padding:0 ">  // So, with a 16 bit accumulator, the output clock is</pre>
<pre style="margin:0; padding:0 ">  //      Fin * (NCO/65536)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic   [16:0]     nco_sum_q; // extra bit to get the carry</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  always_ff @(posedge clk_i or negedge rst_ni) begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    if (!rst_ni) begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      nco_sum_q <= 17'h0;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    end else if (tx_enable || rx_enable) begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      nco_sum_q <= {1'b0,nco_sum_q[15:0]} + {1'b0,reg2hw.ctrl.nco.q};</pre>
<pre style="margin:0; padding:0 ">    end</pre>
<pre style="margin:0; padding:0 ">  end</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign tick_baud_x16 = nco_sum_q[16];</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  //////////////</pre>
<pre style="margin:0; padding:0 ">  // TX Logic //</pre>
<pre style="margin:0; padding:0 ">  //////////////</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign tx_fifo_rready = tx_uart_idle & tx_fifo_rvalid & tx_enable;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  prim_fifo_sync #(</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .Width(8),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .Pass (1'b0),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .Depth(32)</pre>
<pre id="id176" style="background-color: #FFB6C1; margin:0; padding:0 ">  ) u_uart_txfifo (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_ni,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clr_i  (uart_fifo_txrst),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .wvalid (reg2hw.wdata.qe),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .wready (tx_fifo_wready),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .wdata  (reg2hw.wdata.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .depth  (tx_fifo_depth),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rvalid (tx_fifo_rvalid),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rready (tx_fifo_rready),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rdata  (tx_fifo_data)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  uart_tx uart_tx (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_ni,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tx_enable,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tick_baud_x16,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .parity_enable  (reg2hw.ctrl.parity_en.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .wr             (tx_fifo_rready),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .wr_parity      ((^tx_fifo_data) ^ reg2hw.ctrl.parity_odd.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .wr_data        (tx_fifo_data),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .idle           (tx_uart_idle),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tx             (tx_out)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign tx = line_loopback ? rx : tx_out_q ;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  always_ff @(posedge clk_i or negedge rst_ni) begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    if (!rst_ni) begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      tx_out_q <= 1'b1;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    end else if (ovrd_tx_en) begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      tx_out_q <= ovrd_tx_val ;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    end else if (sys_loopback) begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      tx_out_q <= 1'b1;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    end else begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      tx_out_q <= tx_out;</pre>
<pre style="margin:0; padding:0 ">    end</pre>
<pre style="margin:0; padding:0 ">  end</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  //////////////</pre>
<pre style="margin:0; padding:0 ">  // RX Logic //</pre>
<pre style="margin:0; padding:0 ">  //////////////</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  //      sync the incoming data</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  prim_flop_2sync #(</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .Width(1),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .ResetValue(1)</pre>
<pre id="id223" style="background-color: #FFB6C1; margin:0; padding:0 ">  ) sync_rx (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_ni,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .d(rx),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .q(rx_sync)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // Based on: en.wikipedia.org/wiki/Repetition_code mentions the use of a majority filter</pre>
<pre style="margin:0; padding:0 ">  // in UART to ignore brief noise spikes</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic   rx_sync_q1, rx_sync_q2, rx_in_mx, rx_in_maj;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  always_ff @(posedge clk_i or negedge rst_ni) begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    if (!rst_ni) begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      rx_sync_q1 <= 1'b1;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      rx_sync_q2 <= 1'b1;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    end else begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      rx_sync_q1 <= rx_sync;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      rx_sync_q2 <= rx_sync_q1;</pre>
<pre style="margin:0; padding:0 ">    end</pre>
<pre style="margin:0; padding:0 ">  end</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign rx_in_maj = (rx_sync    & rx_sync_q1) |</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">                     (rx_sync    & rx_sync_q2) |</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">                     (rx_sync_q1 & rx_sync_q2);</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign rx_in_mx  = rxnf_enable ? rx_in_maj : rx_sync;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign rx_in =  sys_loopback ? tx_out   :</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">                  line_loopback ? 1'b1 :</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">                  rx_in_mx;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  uart_rx uart_rx (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_ni,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rx_enable,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tick_baud_x16,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .parity_enable  (reg2hw.ctrl.parity_en.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .parity_odd     (reg2hw.ctrl.parity_odd.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tick_baud      (rx_tick_baud),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rx_valid,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rx_data        (rx_fifo_data),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .idle           (rx_uart_idle),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .frame_err      (event_rx_frame_err),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rx             (rx_in),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rx_parity_err  (event_rx_parity_err)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign rx_fifo_wvalid = rx_valid & ~event_rx_frame_err & ~event_rx_parity_err;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  prim_fifo_sync #(</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .Width (8),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .Pass  (1'b0),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .Depth (32)</pre>
<pre id="id275" style="background-color: #FFB6C1; margin:0; padding:0 ">  ) u_uart_rxfifo (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_ni,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clr_i  (uart_fifo_rxrst),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .wvalid (rx_fifo_wvalid),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .wready (rx_fifo_wready),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .wdata  (rx_fifo_data),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .depth  (rx_fifo_depth),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rvalid (rx_fifo_rvalid),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rready (reg2hw.rdata.re),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rdata  (uart_rdata)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  always_ff @(posedge clk_i or negedge rst_ni) begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    if (!rst_ni)            rx_val_q <= 16'h0;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    else if (tick_baud_x16) rx_val_q <= {rx_val_q[14:0], rx_in};</pre>
<pre style="margin:0; padding:0 ">  end</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  ////////////////////////</pre>
<pre style="margin:0; padding:0 ">  // Interrupt & Status //</pre>
<pre style="margin:0; padding:0 ">  ////////////////////////</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  always_comb begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    unique case(uart_fifo_txilvl)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      2'h0:    tx_watermark_d = (tx_fifo_depth < 6'd2);</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      2'h1:    tx_watermark_d = (tx_fifo_depth < 6'd4);</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      2'h2:    tx_watermark_d = (tx_fifo_depth < 6'd8);</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      default: tx_watermark_d = (tx_fifo_depth < 6'd16);</pre>
<pre style="margin:0; padding:0 ">    endcase</pre>
<pre style="margin:0; padding:0 ">  end</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign event_tx_watermark = tx_watermark_d & ~tx_watermark_prev_q;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // The empty condition handling is a bit different.</pre>
<pre style="margin:0; padding:0 ">  // If empty rising conditions were detected directly, then every first write of a burst</pre>
<pre style="margin:0; padding:0 ">  // would trigger an empty.  This is due to the fact that the uart_tx fsm immediately</pre>
<pre style="margin:0; padding:0 ">  // withdraws the content and asserts "empty".</pre>
<pre style="margin:0; padding:0 ">  // To guard against this false trigger, empty is qualified with idle to extend the window</pre>
<pre style="margin:0; padding:0 ">  // in which software has an opportunity to deposit new data.</pre>
<pre style="margin:0; padding:0 ">  // However, if software deposit speed is TOO slow, this would still be an issue.</pre>
<pre style="margin:0; padding:0 ">  //</pre>
<pre style="margin:0; padding:0 ">  // The alternative software fix is to disable tx_enable until it has a chance to</pre>
<pre style="margin:0; padding:0 ">  // burst in the desired amount of data.</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign event_tx_empty     = ~tx_fifo_rvalid & ~tx_uart_idle_q & tx_uart_idle;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  always_ff @(posedge clk_i or negedge rst_ni) begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    if (!rst_ni) begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      tx_watermark_prev_q  <= 1'b1; // by default watermark condition is true</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      rx_watermark_prev_q  <= 1'b0; // by default watermark condition is false</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      tx_uart_idle_q       <= 1'b1;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    end else begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      tx_watermark_prev_q  <= tx_watermark_d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      rx_watermark_prev_q  <= rx_watermark_d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      tx_uart_idle_q       <= tx_uart_idle;</pre>
<pre style="margin:0; padding:0 ">    end</pre>
<pre style="margin:0; padding:0 ">  end</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  always_comb begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    unique case(uart_fifo_rxilvl)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      3'h0:    rx_watermark_d = (rx_fifo_depth >= 6'd1);</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      3'h1:    rx_watermark_d = (rx_fifo_depth >= 6'd4);</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      3'h2:    rx_watermark_d = (rx_fifo_depth >= 6'd8);</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      3'h3:    rx_watermark_d = (rx_fifo_depth >= 6'd16);</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      3'h4:    rx_watermark_d = (rx_fifo_depth >= 6'd30);</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      default: rx_watermark_d = 1'b0;</pre>
<pre style="margin:0; padding:0 ">    endcase</pre>
<pre style="margin:0; padding:0 ">  end</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign event_rx_watermark = rx_watermark_d & ~rx_watermark_prev_q;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // rx timeout interrupt</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign uart_rxto_en  = reg2hw.timeout_ctrl.en.q;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign uart_rxto_val = reg2hw.timeout_ctrl.val.q;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign rx_fifo_depth_changed = (rx_fifo_depth != rx_fifo_depth_prev_q);</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign rx_timeout_count_d =</pre>
<pre style="margin:0; padding:0 ">              // don't count if timeout feature not enabled ;</pre>
<pre style="margin:0; padding:0 ">              // will never reach timeout val + lower power</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">              (uart_rxto_en == 1'b0)              ? 24'd0 :</pre>
<pre style="margin:0; padding:0 ">              // reset count if timeout interrupt is set</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">              event_rx_timeout                    ? 24'd0 :</pre>
<pre style="margin:0; padding:0 ">              // reset count upon change in fifo level: covers both read and receiving a new byte</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">              rx_fifo_depth_changed               ? 24'd0 :</pre>
<pre style="margin:0; padding:0 ">              // reset count if no bytes are pending</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">              (rx_fifo_depth == 5'd0)             ? 24'd0 :</pre>
<pre style="margin:0; padding:0 ">              // stop the count at timeout value (this will set the interrupt)</pre>
<pre style="margin:0; padding:0 ">              //   Removed below line as when the timeout reaches the value,</pre>
<pre style="margin:0; padding:0 ">              //   event occured, and timeout value reset to 0h.</pre>
<pre style="margin:0; padding:0 ">              //(rx_timeout_count_q == uart_rxto_val) ? rx_timeout_count_q :</pre>
<pre style="margin:0; padding:0 ">              // increment if at rx baud tick</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">              rx_tick_baud                        ? (rx_timeout_count_q + 24'd1) :</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">              rx_timeout_count_q;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign event_rx_timeout = (rx_timeout_count_q == uart_rxto_val) & uart_rxto_en;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  always_ff @(posedge clk_i or negedge rst_ni) begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    if (!rst_ni) begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      rx_timeout_count_q   <= 24'd0;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      rx_fifo_depth_prev_q <= 6'd0;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    end else begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      rx_timeout_count_q    <= rx_timeout_count_d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      rx_fifo_depth_prev_q  <= rx_fifo_depth;</pre>
<pre style="margin:0; padding:0 ">    end</pre>
<pre style="margin:0; padding:0 ">  end</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign event_rx_overflow  = rx_fifo_wvalid & ~rx_fifo_wready;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign event_rx_break_err = break_err & (break_st_q == BRK_CHK);</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // instantiate interrupt hardware primitives</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  prim_intr_hw #(.Width(1)) intr_hw_tx_watermark (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .event_intr_i           (event_tx_watermark),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_enable_q_i (reg2hw.intr_enable.tx_watermark.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_test_q_i   (reg2hw.intr_test.tx_watermark.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_test_qe_i  (reg2hw.intr_test.tx_watermark.qe),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_state_q_i  (reg2hw.intr_state.tx_watermark.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .hw2reg_intr_state_de_o (hw2reg.intr_state.tx_watermark.de),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .hw2reg_intr_state_d_o  (hw2reg.intr_state.tx_watermark.d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .intr_o                 (intr_tx_watermark_o)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  prim_intr_hw #(.Width(1)) intr_hw_rx_watermark (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .event_intr_i           (event_rx_watermark),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_enable_q_i (reg2hw.intr_enable.rx_watermark.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_test_q_i   (reg2hw.intr_test.rx_watermark.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_test_qe_i  (reg2hw.intr_test.rx_watermark.qe),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_state_q_i  (reg2hw.intr_state.rx_watermark.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .hw2reg_intr_state_de_o (hw2reg.intr_state.rx_watermark.de),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .hw2reg_intr_state_d_o  (hw2reg.intr_state.rx_watermark.d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .intr_o                 (intr_rx_watermark_o)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  prim_intr_hw #(.Width(1)) intr_hw_tx_empty (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .event_intr_i           (event_tx_empty),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_enable_q_i (reg2hw.intr_enable.tx_empty.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_test_q_i   (reg2hw.intr_test.tx_empty.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_test_qe_i  (reg2hw.intr_test.tx_empty.qe),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_state_q_i  (reg2hw.intr_state.tx_empty.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .hw2reg_intr_state_de_o (hw2reg.intr_state.tx_empty.de),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .hw2reg_intr_state_d_o  (hw2reg.intr_state.tx_empty.d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .intr_o                 (intr_tx_empty_o)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  prim_intr_hw #(.Width(1)) intr_hw_rx_overflow (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .event_intr_i           (event_rx_overflow),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_enable_q_i (reg2hw.intr_enable.rx_overflow.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_test_q_i   (reg2hw.intr_test.rx_overflow.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_test_qe_i  (reg2hw.intr_test.rx_overflow.qe),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_state_q_i  (reg2hw.intr_state.rx_overflow.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .hw2reg_intr_state_de_o (hw2reg.intr_state.rx_overflow.de),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .hw2reg_intr_state_d_o  (hw2reg.intr_state.rx_overflow.d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .intr_o                 (intr_rx_overflow_o)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  prim_intr_hw #(.Width(1)) intr_hw_rx_frame_err (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .event_intr_i           (event_rx_frame_err),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_enable_q_i (reg2hw.intr_enable.rx_frame_err.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_test_q_i   (reg2hw.intr_test.rx_frame_err.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_test_qe_i  (reg2hw.intr_test.rx_frame_err.qe),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_state_q_i  (reg2hw.intr_state.rx_frame_err.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .hw2reg_intr_state_de_o (hw2reg.intr_state.rx_frame_err.de),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .hw2reg_intr_state_d_o  (hw2reg.intr_state.rx_frame_err.d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .intr_o                 (intr_rx_frame_err_o)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  prim_intr_hw #(.Width(1)) intr_hw_rx_break_err (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .event_intr_i           (event_rx_break_err),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_enable_q_i (reg2hw.intr_enable.rx_break_err.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_test_q_i   (reg2hw.intr_test.rx_break_err.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_test_qe_i  (reg2hw.intr_test.rx_break_err.qe),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_state_q_i  (reg2hw.intr_state.rx_break_err.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .hw2reg_intr_state_de_o (hw2reg.intr_state.rx_break_err.de),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .hw2reg_intr_state_d_o  (hw2reg.intr_state.rx_break_err.d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .intr_o                 (intr_rx_break_err_o)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  prim_intr_hw #(.Width(1)) intr_hw_rx_timeout (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .event_intr_i           (event_rx_timeout),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_enable_q_i (reg2hw.intr_enable.rx_timeout.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_test_q_i   (reg2hw.intr_test.rx_timeout.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_test_qe_i  (reg2hw.intr_test.rx_timeout.qe),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_state_q_i  (reg2hw.intr_state.rx_timeout.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .hw2reg_intr_state_de_o (hw2reg.intr_state.rx_timeout.de),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .hw2reg_intr_state_d_o  (hw2reg.intr_state.rx_timeout.d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .intr_o                 (intr_rx_timeout_o)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  prim_intr_hw #(.Width(1)) intr_hw_rx_parity_err (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .event_intr_i           (event_rx_parity_err),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_enable_q_i (reg2hw.intr_enable.rx_parity_err.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_test_q_i   (reg2hw.intr_test.rx_parity_err.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_test_qe_i  (reg2hw.intr_test.rx_parity_err.qe),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw_intr_state_q_i  (reg2hw.intr_state.rx_parity_err.q),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .hw2reg_intr_state_de_o (hw2reg.intr_state.rx_parity_err.de),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .hw2reg_intr_state_d_o  (hw2reg.intr_state.rx_parity_err.d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .intr_o                 (intr_rx_parity_err_o)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">endmodule</pre>
<pre style="margin:0; padding:0 "></pre>
</body>
</html>
