
<!DOCTYPE html>
<html>
<head>
<style>
body {

}
p {
font-size: 14px;
}</style>
<h3>../src/lowrisc_ip_padctrl_component_0.1/rtl/padring.sv Cov: 50% </h3>
<pre style="margin:0; padding:0 ">// Copyright lowRISC contributors.</pre>
<pre style="margin:0; padding:0 ">// Licensed under the Apache License, Version 2.0, see LICENSE for details.</pre>
<pre style="margin:0; padding:0 ">// SPDX-License-Identifier: Apache-2.0</pre>
<pre style="margin:0; padding:0 ">//</pre>
<pre style="margin:0; padding:0 ">// This it the padctrl portion that has to be instantiated on the chip level.</pre>
<pre style="margin:0; padding:0 ">// The module instantiates the technology dependent pads, and connects them</pre>
<pre style="margin:0; padding:0 ">// to the MIOs/DIOs and pad attributes coming from the padctrl block.</pre>
<pre style="margin:0; padding:0 ">//</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">`include "prim_assert.sv"</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">module padring import padctrl_reg_pkg::*; #(</pre>
<pre style="margin:0; padding:0 ">  // This allows to selectively connect Pad instances.</pre>
<pre style="margin:0; padding:0 ">  // unconnected inputs are tied to 0, unconnected outputs are high-z.</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  parameter logic [NMioPads-1:0] ConnectMioIn = '1,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  parameter logic [NMioPads-1:0] ConnectMioOut = '1,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  parameter logic [NDioPads-1:0] ConnectDioIn = '1,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  parameter logic [NDioPads-1:0] ConnectDioOut = '1</pre>
<pre style="margin:0; padding:0 ">) (</pre>
<pre style="margin:0; padding:0 ">  // pad input</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input wire                  clk_pad_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input wire                  clk_usb_48mhz_pad_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input wire                  rst_pad_ni,</pre>
<pre style="margin:0; padding:0 ">  // to clocking/reset infrastructure</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output logic                clk_o,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output logic                clk_usb_48mhz_o,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output logic                rst_no,</pre>
<pre style="margin:0; padding:0 ">  // pads</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  inout wire   [NMioPads-1:0] mio_pad_io,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  inout wire   [NDioPads-1:0] dio_pad_io,</pre>
<pre style="margin:0; padding:0 ">  // muxed IO signals coming from pinmux</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output logic [NMioPads-1:0] mio_in_o,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input        [NMioPads-1:0] mio_out_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input        [NMioPads-1:0] mio_oe_i,</pre>
<pre style="margin:0; padding:0 ">  // dedicated IO signals coming from peripherals</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output logic [NDioPads-1:0] dio_in_o,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input        [NDioPads-1:0] dio_out_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input        [NDioPads-1:0] dio_oe_i,</pre>
<pre style="margin:0; padding:0 ">  // pad attributes from top level instance</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input        [NMioPads-1:0][AttrDw-1:0] mio_attr_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input        [NDioPads-1:0][AttrDw-1:0] dio_attr_i</pre>
<pre style="margin:0; padding:0 ">);</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  /////////////////////////</pre>
<pre style="margin:0; padding:0 ">  // Clock / Reset Infra //</pre>
<pre style="margin:0; padding:0 ">  /////////////////////////</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // use this intermediate assignment to make both lint and fpv happy.</pre>
<pre style="margin:0; padding:0 ">  // the clock/reset wires should be input-only, otherwise fpv</pre>
<pre style="margin:0; padding:0 ">  // has trouble defining/tracing the clock signal. on the other hand, a direct</pre>
<pre style="margin:0; padding:0 ">  // connection of input wire to an inout pad causes lint problems</pre>
<pre style="margin:0; padding:0 ">  // (even though oe is hardwired to 0).</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  wire clk, clk_usb_48mhz, rst_n;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign clk           = clk_pad_i;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign clk_usb_48mhz = clk_usb_48mhz_pad_i;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign rst_n         = rst_pad_ni;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  prim_pad_wrapper #(</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .AttrDw(AttrDw)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  ) i_clk_pad (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .inout_io ( clk   ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .in_o     ( clk_o ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .out_i    ( 1'b0  ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .oe_i     ( 1'b0  ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .attr_i   (   '0  )</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  prim_pad_wrapper #(</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .AttrDw(AttrDw)</pre>
<pre id="id70" style="background-color: #FFB6C1; margin:0; padding:0 ">  ) i_clk_usb_48mhz_pad (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .inout_io ( clk_usb_48mhz   ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .in_o     ( clk_usb_48mhz_o ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .out_i    ( 1'b0  ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .oe_i     ( 1'b0  ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .attr_i   (   '0  )</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  prim_pad_wrapper #(</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .AttrDw(AttrDw)</pre>
<pre id="id80" style="background-color: #FFB6C1; margin:0; padding:0 ">  ) i_rst_pad (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .inout_io ( rst_n  ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .in_o     ( rst_no ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .out_i    ( 1'b0  ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .oe_i     ( 1'b0  ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .attr_i   (   '0  )</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  //////////////</pre>
<pre style="margin:0; padding:0 ">  // MIO Pads //</pre>
<pre style="margin:0; padding:0 ">  //////////////</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  for (genvar k = 0; k < NMioPads; k++) begin : gen_mio_pads</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    if (ConnectMioIn[k] && ConnectMioOut[k]) begin : gen_mio_inout</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      prim_pad_wrapper #(</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">        .AttrDw(AttrDw)</pre>
<pre id="id96" style="background-color: #FFB6C1; margin:0; padding:0 ">      ) i_mio_pad (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">        .inout_io ( mio_pad_io[k] ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">        .in_o     ( mio_in_o[k]   ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">        .out_i    ( mio_out_i[k]  ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">        .oe_i     ( mio_oe_i[k]   ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">        .attr_i   ( mio_attr_i[k] )</pre>
<pre style="margin:0; padding:0 ">      );</pre>
<pre id="id103" style="background-color: #FFB6C1; margin:0; padding:0 ">    end else if (ConnectMioOut[k]) begin : gen_mio_output</pre>
<pre id="id104" style="background-color: #FFB6C1; margin:0; padding:0 ">      prim_pad_wrapper #(</pre>
<pre id="id105" style="background-color: #FFB6C1; margin:0; padding:0 ">        .AttrDw(AttrDw)</pre>
<pre id="id106" style="background-color: #FFB6C1; margin:0; padding:0 ">      ) i_mio_pad (</pre>
<pre id="id107" style="background-color: #FFB6C1; margin:0; padding:0 ">        .inout_io ( mio_pad_io[k] ),</pre>
<pre id="id108" style="background-color: #FFB6C1; margin:0; padding:0 ">        .in_o     (               ),</pre>
<pre id="id109" style="background-color: #FFB6C1; margin:0; padding:0 ">        .out_i    ( mio_out_i[k]  ),</pre>
<pre id="id110" style="background-color: #FFB6C1; margin:0; padding:0 ">        .oe_i     ( mio_oe_i[k]   ),</pre>
<pre id="id111" style="background-color: #FFB6C1; margin:0; padding:0 ">        .attr_i   ( mio_attr_i[k] )</pre>
<pre style="margin:0; padding:0 ">      );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre id="id114" style="background-color: #FFB6C1; margin:0; padding:0 ">      assign mio_in_o[k]  = 1'b0;</pre>
<pre id="id115" style="background-color: #FFB6C1; margin:0; padding:0 ">    end else if (ConnectMioIn[k]) begin : gen_mio_input</pre>
<pre id="id116" style="background-color: #FFB6C1; margin:0; padding:0 ">      prim_pad_wrapper #(</pre>
<pre id="id117" style="background-color: #FFB6C1; margin:0; padding:0 ">        .AttrDw(AttrDw)</pre>
<pre id="id118" style="background-color: #FFB6C1; margin:0; padding:0 ">      ) i_mio_pad (</pre>
<pre id="id119" style="background-color: #FFB6C1; margin:0; padding:0 ">        .inout_io ( mio_pad_io[k] ),</pre>
<pre id="id120" style="background-color: #FFB6C1; margin:0; padding:0 ">        .in_o     ( mio_in_o[k]   ),</pre>
<pre id="id121" style="background-color: #FFB6C1; margin:0; padding:0 ">        .out_i    ( 1'b0          ),</pre>
<pre id="id122" style="background-color: #FFB6C1; margin:0; padding:0 ">        .oe_i     ( 1'b0          ),</pre>
<pre id="id123" style="background-color: #FFB6C1; margin:0; padding:0 ">        .attr_i   ( mio_attr_i[k] )</pre>
<pre style="margin:0; padding:0 ">      );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre id="id126" style="background-color: #FFB6C1; margin:0; padding:0 ">      logic unused_out, unused_oe;</pre>
<pre id="id127" style="background-color: #FFB6C1; margin:0; padding:0 ">      assign unused_out   = mio_out_i[k];</pre>
<pre id="id128" style="background-color: #FFB6C1; margin:0; padding:0 ">      assign unused_oe    = mio_oe_i[k];</pre>
<pre id="id129" style="background-color: #FFB6C1; margin:0; padding:0 ">    end else begin : gen_mio_tie_off</pre>
<pre id="id130" style="background-color: #FFB6C1; margin:0; padding:0 ">      logic unused_out, unused_oe;</pre>
<pre id="id131" style="background-color: #FFB6C1; margin:0; padding:0 ">      logic [AttrDw-1:0] unused_attr;</pre>
<pre id="id132" style="background-color: #FFB6C1; margin:0; padding:0 ">      assign mio_pad_io[k] = 1'bz;</pre>
<pre id="id133" style="background-color: #FFB6C1; margin:0; padding:0 ">      assign unused_out   = mio_out_i[k];</pre>
<pre id="id134" style="background-color: #FFB6C1; margin:0; padding:0 ">      assign unused_oe    = mio_oe_i[k];</pre>
<pre id="id135" style="background-color: #FFB6C1; margin:0; padding:0 ">      assign unused_attr  = mio_attr_i[k];</pre>
<pre id="id136" style="background-color: #FFB6C1; margin:0; padding:0 ">      assign mio_in_o[k]  = 1'b0;</pre>
<pre style="margin:0; padding:0 ">    end</pre>
<pre style="margin:0; padding:0 ">  end</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  //////////////</pre>
<pre style="margin:0; padding:0 ">  // DIO Pads //</pre>
<pre style="margin:0; padding:0 ">  //////////////</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  for (genvar k = 0; k < NDioPads; k++) begin : gen_dio_pads</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    if (ConnectDioIn[k] && ConnectDioOut[k]) begin : gen_dio_inout</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      prim_pad_wrapper #(</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">        .AttrDw(AttrDw)</pre>
<pre id="id148" style="background-color: #FFB6C1; margin:0; padding:0 ">      ) i_dio_pad (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">        .inout_io ( dio_pad_io[k] ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">        .in_o     ( dio_in_o[k]   ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">        .out_i    ( dio_out_i[k]  ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">        .oe_i     ( dio_oe_i[k]   ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">        .attr_i   ( dio_attr_i[k] )</pre>
<pre style="margin:0; padding:0 ">      );</pre>
<pre id="id155" style="background-color: #FFB6C1; margin:0; padding:0 ">    end else if (ConnectDioOut[k]) begin : gen_dio_output</pre>
<pre id="id156" style="background-color: #FFB6C1; margin:0; padding:0 ">      prim_pad_wrapper #(</pre>
<pre id="id157" style="background-color: #FFB6C1; margin:0; padding:0 ">        .AttrDw(AttrDw)</pre>
<pre id="id158" style="background-color: #FFB6C1; margin:0; padding:0 ">      ) i_dio_pad (</pre>
<pre id="id159" style="background-color: #FFB6C1; margin:0; padding:0 ">        .inout_io ( dio_pad_io[k] ),</pre>
<pre id="id160" style="background-color: #FFB6C1; margin:0; padding:0 ">        .in_o     (               ),</pre>
<pre id="id161" style="background-color: #FFB6C1; margin:0; padding:0 ">        .out_i    ( dio_out_i[k]  ),</pre>
<pre id="id162" style="background-color: #FFB6C1; margin:0; padding:0 ">        .oe_i     ( dio_oe_i[k]   ),</pre>
<pre id="id163" style="background-color: #FFB6C1; margin:0; padding:0 ">        .attr_i   ( dio_attr_i[k] )</pre>
<pre style="margin:0; padding:0 ">      );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre id="id166" style="background-color: #FFB6C1; margin:0; padding:0 ">      assign dio_in_o[k]  = 1'b0;</pre>
<pre id="id167" style="background-color: #FFB6C1; margin:0; padding:0 ">    end else if (ConnectDioIn[k]) begin : gen_dio_input</pre>
<pre id="id168" style="background-color: #FFB6C1; margin:0; padding:0 ">      prim_pad_wrapper #(</pre>
<pre id="id169" style="background-color: #FFB6C1; margin:0; padding:0 ">        .AttrDw(AttrDw)</pre>
<pre id="id170" style="background-color: #FFB6C1; margin:0; padding:0 ">      ) i_dio_pad (</pre>
<pre id="id171" style="background-color: #FFB6C1; margin:0; padding:0 ">        .inout_io ( dio_pad_io[k] ),</pre>
<pre id="id172" style="background-color: #FFB6C1; margin:0; padding:0 ">        .in_o     ( dio_in_o[k]   ),</pre>
<pre id="id173" style="background-color: #FFB6C1; margin:0; padding:0 ">        .out_i    ( 1'b0          ),</pre>
<pre id="id174" style="background-color: #FFB6C1; margin:0; padding:0 ">        .oe_i     ( 1'b0          ),</pre>
<pre id="id175" style="background-color: #FFB6C1; margin:0; padding:0 ">        .attr_i   ( dio_attr_i[k] )</pre>
<pre style="margin:0; padding:0 ">      );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre id="id178" style="background-color: #FFB6C1; margin:0; padding:0 ">      logic unused_out, unused_oe;</pre>
<pre id="id179" style="background-color: #FFB6C1; margin:0; padding:0 ">      assign unused_out   = dio_out_i[k];</pre>
<pre id="id180" style="background-color: #FFB6C1; margin:0; padding:0 ">      assign unused_oe    = dio_oe_i[k];</pre>
<pre id="id181" style="background-color: #FFB6C1; margin:0; padding:0 ">    end else begin : gen_dio_tie_off</pre>
<pre id="id182" style="background-color: #FFB6C1; margin:0; padding:0 ">      logic unused_out, unused_oe;</pre>
<pre id="id183" style="background-color: #FFB6C1; margin:0; padding:0 ">      logic [AttrDw-1:0] unused_attr;</pre>
<pre id="id184" style="background-color: #FFB6C1; margin:0; padding:0 ">      assign dio_pad_io[k] = 1'bz;</pre>
<pre id="id185" style="background-color: #FFB6C1; margin:0; padding:0 ">      assign unused_out   = dio_out_i[k];</pre>
<pre id="id186" style="background-color: #FFB6C1; margin:0; padding:0 ">      assign unused_oe    = dio_oe_i[k];</pre>
<pre id="id187" style="background-color: #FFB6C1; margin:0; padding:0 ">      assign unused_attr  = dio_attr_i[k];</pre>
<pre id="id188" style="background-color: #FFB6C1; margin:0; padding:0 ">      assign dio_in_o[k]  = 1'b0;</pre>
<pre style="margin:0; padding:0 ">    end</pre>
<pre style="margin:0; padding:0 ">  end</pre>
<pre style="margin:0; padding:0 "></pre>
<pre id="id192" style="background-color: #FFB6C1; margin:0; padding:0 ">endmodule : padring</pre>
<pre style="margin:0; padding:0 "></pre>
</body>
</html>
