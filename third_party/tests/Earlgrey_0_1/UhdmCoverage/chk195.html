
<!DOCTYPE html>
<html>
<head>
<style>
body {

}
p {
font-size: 14px;
}</style>
<h3>../src/lowrisc_ip_aes_0.6/rtl/aes.sv Cov: 93% </h3>
<pre style="margin:0; padding:0 ">// Copyright lowRISC contributors.</pre>
<pre style="margin:0; padding:0 ">// Licensed under the Apache License, Version 2.0, see LICENSE for details.</pre>
<pre style="margin:0; padding:0 ">// SPDX-License-Identifier: Apache-2.0</pre>
<pre style="margin:0; padding:0 ">//</pre>
<pre style="margin:0; padding:0 ">// AES top-level wrapper</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">`include "prim_assert.sv"</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">module aes #(</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  parameter bit AES192Enable = 1,    // Can be 0 (disable), or 1 (enable).</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  parameter     SBoxImpl     = "lut" // Can be "lut" (LUT-based SBox), "canright",</pre>
<pre style="margin:0; padding:0 ">                                     // "canright_masked_noreuse", or "canright_masked".</pre>
<pre style="margin:0; padding:0 ">                                     // Note: Currently, constant masks are used, this is</pre>
<pre style="margin:0; padding:0 ">                                     // of course not secure.</pre>
<pre style="margin:0; padding:0 ">) (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input                     clk_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input                     rst_ni,</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // Entropy source interface</pre>
<pre style="margin:0; padding:0 ">  // TODO: This still needs to be connected.</pre>
<pre style="margin:0; padding:0 ">  // See https://github.com/lowRISC/opentitan/issues/1005</pre>
<pre style="margin:0; padding:0 ">  //output logic              entropy_req_o,</pre>
<pre style="margin:0; padding:0 ">  //input  logic              entropy_ack_i,</pre>
<pre style="margin:0; padding:0 ">  //input  logic [63:0]       entropy_i,</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // Bus interface</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input  tlul_pkg::tl_h2d_t tl_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output tlul_pkg::tl_d2h_t tl_o</pre>
<pre style="margin:0; padding:0 ">);</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  import aes_reg_pkg::*;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  aes_reg2hw_t reg2hw;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  aes_hw2reg_t hw2reg;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        prng_data_req;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        prng_data_ack;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [63:0] prng_data;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        prng_reseed_req;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        prng_reseed_ack;</pre>
<pre id="id41" style="background-color: #FFB6C1; margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  aes_reg_top aes_reg_top (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_ni,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_o,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .hw2reg,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .devmode_i(1'b1)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  aes_core #(</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .AES192Enable ( AES192Enable ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .SBoxImpl     ( SBoxImpl     )</pre>
<pre id="id55" style="background-color: #FFB6C1; margin:0; padding:0 ">  ) aes_core (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_ni,</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .prng_data_req_o   ( prng_data_req   ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .prng_data_ack_i   ( prng_data_ack   ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .prng_data_i       ( prng_data       ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .prng_reseed_req_o ( prng_reseed_req ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .prng_reseed_ack_i ( prng_reseed_ack ),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reg2hw,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .hw2reg</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  aes_prng aes_prng (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_ni,</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .data_req_i   ( prng_data_req   ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .data_ack_o   ( prng_data_ack   ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .data_o       ( prng_data       ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reseed_req_i ( prng_reseed_req ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .reseed_ack_o ( prng_reseed_ack ),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">    // TODO: This still needs to be connected to the entropy source.</pre>
<pre style="margin:0; padding:0 ">    // See https://github.com/lowRISC/opentitan/issues/1005</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .entropy_req_o(                      ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .entropy_ack_i(                 1'b1 ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .entropy_i    ( 64'hFEDCBA9876543210 )</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // All outputs should have a known value after reset</pre>
<pre style="margin:0; padding:0 ">  `ASSERT_KNOWN(TlODValidKnown, tl_o.d_valid)</pre>
<pre style="margin:0; padding:0 ">  `ASSERT_KNOWN(TlOAReadyKnown, tl_o.a_ready)</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">endmodule</pre>
<pre style="margin:0; padding:0 "></pre>
</body>
</html>
